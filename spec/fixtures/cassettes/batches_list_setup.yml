---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/batches
    body:
      encoding: UTF-8
      string: '{"input_file_id":"file-FBhzJKh5hRnQKCgiGk0ipMHa","endpoint":"/v1/chat/completions","completion_window":"24h"}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_ACCESS_TOKEN>
      Openai-Beta:
      - assistants=v1
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sat, 27 Apr 2024 13:02:57 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Openai-Version:
      - '2020-10-01'
      Openai-Organization:
      - user-jxm65ijkzc1qrfhc0ij8moic
      X-Request-Id:
      - req_d3e7e7289d1602d1e338b4f7e72248ff
      Openai-Processing-Ms:
      - '283'
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=YFlYXJuakg8j.Qp6bpmlEVCF4Duq_3jTHX2E3Db1_0A-1714222977-1.0.1.1-BBaLyW8I7.a18j.8o1ptaUdXuSdZjWBosaUxtYkohGKMqokd9hHyHbnxSSNNRasuw8GzaKqyOHM91ybMnB_iIQ;
        path=/; expires=Sat, 27-Apr-24 13:32:57 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=Zqk4whBtEYzBFGl8quvzd7Sk5WyYYIW8jDKHSfL_Swg-1714222977304-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Server:
      - cloudflare
      Cf-Ray:
      - 87af02854c341c43-SOF
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "id": "batch_AfuCFw8jZ14rbXkIQWDeYnMU",
          "object": "batch",
          "endpoint": "/v1/chat/completions",
          "errors": null,
          "input_file_id": "file-FBhzJKh5hRnQKCgiGk0ipMHa",
          "completion_window": "24h",
          "status": "validating",
          "output_file_id": null,
          "error_file_id": null,
          "created_at": 1714222977,
          "in_progress_at": null,
          "expires_at": 1714309377,
          "finalizing_at": null,
          "completed_at": null,
          "failed_at": null,
          "expired_at": null,
          "cancelling_at": null,
          "cancelled_at": null,
          "request_counts": {
            "total": 0,
            "completed": 0,
            "failed": 0
          },
          "metadata": null
        }
  recorded_at: Sat, 27 Apr 2024 13:02:57 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/batches
    body:
      encoding: UTF-8
      string: '{"input_file_id":"file-M7kN0Xj6JljJnpiV7zUUAIlW","endpoint":"/v1/chat/completions","completion_window":"24h"}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer <OPENAI_ACCESS_TOKEN>
      Openai-Beta:
      - assistants=v2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 29 Apr 2024 23:27:59 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Openai-Version:
      - '2020-10-01'
      Openai-Organization:
      - user-jxm65ijkzc1qrfhc0ij8moic
      X-Request-Id:
      - req_26aacec6ff52cc1c11239f70aef7676c
      Openai-Processing-Ms:
      - '495'
      Strict-Transport-Security:
      - max-age=15724800; includeSubDomains
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=zCPCpZfMDhzKbveOCP1soenC4KOFNzZLNXEdoaGZeFU-1714433279-1.0.1.1-.EZrSFLhIigfwBNJ0SuCE4zfWeZoOD_zM.Jq3qbp5nu6jaVmkPHEhejkjbq2h.7B0vzgyBjHiUVURQV9IvkA1A;
        path=/; expires=Mon, 29-Apr-24 23:57:59 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=cZpeO7gE0cZHVsRnVT8sIUq3wFjz3MtviOdLfk97Si0-1714433279251-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Server:
      - cloudflare
      Cf-Ray:
      - 87c310d779089502-LHR
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "id": "batch_gidid1h27isU29Yg0xFVrEw4",
          "object": "batch",
          "endpoint": "/v1/chat/completions",
          "errors": null,
          "input_file_id": "file-M7kN0Xj6JljJnpiV7zUUAIlW",
          "completion_window": "24h",
          "status": "validating",
          "output_file_id": null,
          "error_file_id": null,
          "created_at": 1714433279,
          "in_progress_at": null,
          "expires_at": 1714519679,
          "finalizing_at": null,
          "completed_at": null,
          "failed_at": null,
          "expired_at": null,
          "cancelling_at": null,
          "cancelled_at": null,
          "request_counts": {
            "total": 0,
            "completed": 0,
            "failed": 0
          },
          "metadata": null
        }
  recorded_at: Mon, 29 Apr 2024 23:27:59 GMT
recorded_with: VCR 6.1.0
